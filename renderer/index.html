<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crystal Chat</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <aside class="sidebar">
        <div class="sidebar-header">
          <button id="new-chat" class="button button-ghost full-width">+ New chat</button>
        </div>
        <div class="pinned-group">
          <button id="pinned-btn" class="button button-ghost full-width">
            <span class="icon-text">
              <svg class="icon" viewBox="0 0 24 24" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 17.27l-5.18 2.73 1-5.85L3.64 9.24l5.9-.86L12 3l2.46 5.38 5.9.86-4.18 4.91 1 5.85L12 17.27Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
              </svg>
              Pinned chats
            </span>
            <span class="dropdown-chevron" aria-hidden="true">▸</span>
          </button>
          <div id="pinned-dropdown" class="pinned-dropdown hidden">
            <div id="pinned-dropdown-list" class="pinned-dropdown-list"></div>
          </div>
        </div>
        <div id="chat-list" class="chat-list"></div>
        <button id="trash-btn" class="button button-ghost full-width">
          <span class="icon-text">
            <svg class="icon" viewBox="0 0 24 24" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 7h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M10 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M14 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M6 7l1 14h10l1-14" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
              <path d="M9 7V4h6v3" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
            Trash
          </span>
        </button>
      </aside>
      <main class="chat-area">
        <section id="trash-view" class="trash-view hidden">
          <div class="trash-header">
            <div class="trash-title">
              <span class="icon-text">
                <svg class="icon" viewBox="0 0 24 24" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 7h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  <path d="M10 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  <path d="M14 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  <path d="M6 7l1 14h10l1-14" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                  <path d="M9 7V4h6v3" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                </svg>
                Trash
              </span>
            </div>
            <div class="trash-actions">
              <button id="trash-restore-all" class="button button-ghost">Restore all</button>
              <button id="trash-delete-all" class="button button-ghost danger">Delete all</button>
            </div>
          </div>
          <div class="trash-note">Chats in Trash are permanently deleted after 30 days.</div>
          <div class="trash-search">
            <input id="trash-search-input" class="trash-search-input" type="text" placeholder="Search trash..." />
          </div>
          <div id="trash-list" class="trash-list"></div>
        </section>
        <div id="confirm-modal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="confirm-title">
          <div class="modal">
            <div id="confirm-title" class="modal-title">Confirm</div>
            <div id="confirm-message" class="modal-message"></div>
            <div class="modal-actions">
              <button id="confirm-cancel" class="button button-ghost">Cancel</button>
              <button id="confirm-ok" class="button button-ghost danger">Delete permanently</button>
            </div>
          </div>
        </div>
        <section id="messages" class="messages">
          <div id="typing-indicator" class="typing chat-typing hidden">
            <div class="spinner"></div>
            Waiting for response...
          </div>
        </section>
        <div id="error" class="error hidden"></div>
        <form id="prompt-form" class="prompt-form">
          <div class="input-shell">
            <textarea
              id="prompt-input"
              class="prompt-input"
              placeholder="Type your message..."
              rows="1"
            ></textarea>
            <button id="send-btn" type="submit" class="send-button" aria-label="Send">
              <span>➤</span>
            </button>
          </div>
        </form>
      </main>
    </div>
    <script src="../node_modules/marked/marked.min.js"></script>
    <script type="module" src="renderer.js"></script>
  </body>
</html>
